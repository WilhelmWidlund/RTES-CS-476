/*
 *--------------------------------- THIS IS CPU 0 ---------------------------------------------
 */

#include <stdio.h>
#include "system.h"
#include "io.h"
#include <stdint.h>
#include <altera_avalon_mutex.h>
#include "altera_avalon_mailbox_simple.h"
#include "altera_avalon_mailbox_simple_regs.h"


/*
 *--------------------------------- THIS IS CPU 0 ---------------------------------------------
 */

#define ArbVal 0xffffffff

// Custom counter address offsets
#define CustomCounterReset 4
#define CustomCounterStart	8
#define CustomCounterStop	12
#define CustomCounterCommand	16
#define CustomCounterStatus	20
#define CustomCounterTarget 24
#define CustomCounterIncrVal 28


void part1()
{
	printf("Hello from the multicore system, this is CPU %d talking! \n", ALT_CPU_CPU_ID_VALUE);
}

/*
 *--------------------------------- THIS IS CPU 0 ---------------------------------------------
 */


uint32_t pptest(int msdelay)
{
	// Reset custom counter
	IOWR_32DIRECT(CUSTOM_COUNTER_0_BASE, CustomCounterReset, ArbVal);
	// Set highest possible target
	IOWR_32DIRECT(CUSTOM_COUNTER_0_BASE, CustomCounterTarget, 0xFFFFFFFF);
	// Start custom counter
	IOWR_32DIRECT(CUSTOM_COUNTER_0_BASE, CustomCounterStart, ArbVal);


}


int main()
{
  part1();

  return 0;
}

/*
 *--------------------------------- THIS IS CPU 0 ---------------------------------------------
 */
